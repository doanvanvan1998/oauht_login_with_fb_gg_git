<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: html_head(pageTitle='Login')" />
<body>
<div class="container mt-5">
    <h1 class="text-center">Reset Password</h1>
    <section class="w-100 p-4 d-flex justify-content-center pb-4 mt-3">
        <form style="width: 22rem;" method="post" th:action="|@{/reset-password/reset?token=}${token}|">
            <input hidden />
            <div class="form-outline mb-4">
                <input type="password" name="pass" class="password form-control" placeholder="Password">
                <div class="form-notch">
                    <div class="form-notch-leading" style="width: 9px;"></div>
                    <div class="form-notch-middle" style="width: 64px;"></div>
                    <div class="form-notch-trailing"></div>
                </div>
            </div>

            <div class="form-outline mb-4">
                <input type="password" class="confirmPassword form-control" placeholder="Repeat your password">
                <div class="form-notch">
                    <div class="form-notch-leading" style="width: 9px;"></div>
                    <div class="form-notch-middle" style="width: 64px;"></div>
                    <div class="form-notch-trailing"></div>
                </div>
                <label class="notMatch"></label>
            </div>

            <button type="submit" class="btn btn-primary btn-block mb-4" style="width: 100%">Reset Password</button>
        </form>
    </section>
</div>
<script th:inline="javascript">
    document.querySelector('.confirmPassword').oninput = function (){
        var password = document.querySelector('.password').value;
        var confirmPassword = document.querySelector('.confirmPassword').value;
        var message = document.querySelector('.notMatch');
        var buttonSubmit = document.querySelector('.btn');
        if(password === ""){
            message.innerHTML = "Field password cannot be empty.";
        }
        else if(password !== confirmPassword){
            message.innerHTML = "Password didn't match";
            message.style.color = "#ff0000";
            buttonSubmit.disabled = true;
        }else if(password === confirmPassword){
            message.innerHTML =  "Password match";
            message.style.color = "#008f1a";
            buttonSubmit.disabled = false;
        }
    }
</script>
</body>
</html>